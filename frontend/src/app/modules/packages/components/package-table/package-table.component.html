<section class="pt-4">
    <div class="d-flex justify-content-between align-items-center">
      <h1><strong>Manage packages</strong></h1>
      <button class="btn btn-success" (click)="newPackage()">New Package</button>
    </div>
    <div class="table-responsive" *ngIf="packages.length > 0; else noPackages">
      <table class="table table-hover mt-3 text-center align-middle">
        <thead>
          <tr>
            <th>#</th>
            <th>ID</th> 
            <th>Description</th>
            <th>Size</th>
            <th>Status</th>
            <th>Location</th>
            <th>Deliveryman</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let package of packages, let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ package._id }}</td>
            <td>{{ package.description || "—" }}</td>
            <td>{{ package.size || "—" }}</td>
            <td>{{ package.status_list.length > 0 ? package.status_list[package.status_list.length - 1].status : "—" }}</td>
            <td>{{ package.route_list.length > 0 ? package.route_list[package.route_list.length - 1].location : "—" }}</td>           
            <td>{{ package.deliveryman.user_id }} — {{ package.deliveryman.name }}</td>
            <td>
              <button mat-icon-button>
                <mat-icon>visibility</mat-icon>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <ng-template #noPackages>
      <div class="alert alert-warning text-center mt-3 mx-3">
        No active packages found.
      </div>
    </ng-template>
  </section>
  